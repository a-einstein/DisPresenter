<Window
    x:Class="RCS.DIS.Presenter.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:RCS.DIS.Presenter"
    mc:Ignorable="d"
    Title="DIS Presenter" 
    Height="800" Width="600"
    >

    <Grid>
        <TabControl>
            <TabItem Header="Criteria">
                <TabControl Name="CriteriaTabControl">
                    <TabItem Header="Filter">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!--TODO Collect versions.-->
                            <TextBlock Grid.Row="0" Text="Versie" Width="100"/>
                            <ComboBox Grid.Row="1" Width="100 "/>

                            <TextBlock Grid.Row="2" Text="Diagnose" Width="100"/>
                            <Button Grid.Row="3" Command="{Binding OpenDiagnosesCommand}">
                                <DataGrid  ItemsSource="{Binding SelectedDiagnoseSource}" AutoGenerateColumns="False" IsReadOnly="True" ColumnHeaderStyle="{StaticResource DataGridColumnHeaderReadOnlyStyle}" RowStyle="{StaticResource DataGridRowReadOnlyStyle}">
                                    <!--TODO Is this bindable to the one of selection grid?-->
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Binding="{Binding DiagnoseCode}" Header="Diagnose"/>
                                        <DataGridTextColumn Binding="{Binding SpecialismeCode}" Header="Specialisme"/>
                                        <DataGridTextColumn Binding="{Binding Omschrijving}" Header="Omschrijving"/>
                                        <DataGridTextColumn Binding="{Binding Peildatum}" Header="Peildatum"/>
                                        <DataGridTextColumn Binding="{Binding Bestandsdatum}" Header="Bestandsdatum"/>
                                        <DataGridTextColumn Binding="{Binding Versie}" Header="Versie"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Button>
                        </Grid>
                    </TabItem>

                    <TabItem Header="Diagnoses" Name="DiagnosesTab">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Orientation="Horizontal">
                                <TextBlock  Text="Omschrijving contains"/>
                                <TextBox Width="200" Text="{Binding DiagnosesSearchString}"/>
                                <!--TODO The IsDefault does not work, probably because of the TextBox.-->
                                <Button Content="Search diagnoses" Width="100" Command="{Binding DiagnosesSearchCommand}" IsDefault="True"/>
                            </StackPanel>

                            <TextBlock Grid.Row="1" Grid.ColumnSpan="3" Text="{Binding DiagnosesMessage}" FontWeight="Bold" />

                            <!--TODO Solve scrollbar visibility.-->
                            <DataGrid Grid.Row="2" ItemsSource="{Binding Diagnoses}" AutoGenerateColumns="False" IsReadOnly="True" SelectionMode="Single" SelectedValue="{Binding SelectedDiagnose, Mode=OneWayToSource}">
                                <!-- Mapping was needed to suppress ExtensionData, control order, and additionally alter headers.-->
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding DiagnoseCode}" Header="Diagnose"/>
                                    <DataGridTextColumn Binding="{Binding SpecialismeCode}" Header="Specialisme"/>
                                    <DataGridTextColumn Binding="{Binding Omschrijving}" Header="Omschrijving"/>
                                    <DataGridTextColumn Binding="{Binding Peildatum}" Header="Peildatum"/>
                                    <DataGridTextColumn Binding="{Binding Bestandsdatum}" Header="Bestandsdatum"/>
                                    <DataGridTextColumn Binding="{Binding Versie}" Header="Versie"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                    <TabItem Header="Specialismes">
                    </TabItem>

                    <TabItem Header="Activiteiten">
                    </TabItem>

                    <TabItem Header="Producten">
                    </TabItem>
                </TabControl>
            </TabItem>

            <TabItem Header="Search">
                <TabControl>
                    <TabItem Header="DBC's">
                    </TabItem>

                    <TabItem Header="Profielen">
                    </TabItem>
                </TabControl>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
